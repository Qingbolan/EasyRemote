# å¹¶å‘æµå¼ä»»åŠ¡æ¡ˆä¾‹

æœ¬æ¡ˆä¾‹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ EasyRemote åŒæ—¶è¿è¡Œä¸¤ä¸ªæµå¼ä»»åŠ¡ï¼š
1. **å®æ—¶æ•°æ®å¤„ç†æµ** - å¤„ç†è¿ç»­çš„ä¼ æ„Ÿå™¨æ•°æ®æµå¹¶è¿”å›åˆ†æç»“æœ
2. **æœºå™¨å­¦ä¹ æ¨ç†æµ** - å¯¹å›¾åƒåºåˆ—è¿›è¡Œè¿ç»­çš„AIæ¨ç†

## ğŸ¯ æ¡ˆä¾‹ç‰¹è‰²

âœ… **çœŸå®å¹¶å‘å¤„ç†** - ä¸¤ä¸ªæµå¼ä»»åŠ¡åŒæ—¶è¿è¡Œï¼Œå±•ç¤ºçœŸæ­£çš„å¹¶å‘èƒ½åŠ›  
âœ… **å®æ—¶æ€§èƒ½ç›‘æ§** - ç›‘æ§æ¯ä¸ªæµçš„ååé‡ã€å»¶è¿Ÿå’Œå¤„ç†è¿›åº¦  
âœ… **ä¸°å¯Œçš„å¯è§†åŒ–** - ä½¿ç”¨Richåº“æä¾›ç¾è§‚çš„å®æ—¶æ§åˆ¶å°ç•Œé¢  
âœ… **å®¹é”™æœºåˆ¶** - å•ä¸ªæµå‡ºé”™ä¸å½±å“å…¶ä»–æµçš„æ­£å¸¸è¿è¡Œ  
âœ… **èµ„æºéš”ç¦»** - ä¸åŒè®¡ç®—èŠ‚ç‚¹å¤„ç†ä¸åŒç±»å‹çš„ä»»åŠ¡  

## ğŸ“ æ¡ˆä¾‹ç»“æ„

```
concurrent_streaming/
â”œâ”€â”€ README.md           # æœ¬æ–‡ä»¶
â”œâ”€â”€ requirements.txt    # ä¾èµ–é¡¹åˆ—è¡¨
â”œâ”€â”€ run_demo.py         # å¿«é€Ÿå¯åŠ¨è„šæœ¬ â­
â”œâ”€â”€ stream_server.py    # VPSæµå¼æœåŠ¡å™¨
â”œâ”€â”€ data_node.py        # æ•°æ®å¤„ç†è®¡ç®—èŠ‚ç‚¹
â”œâ”€â”€ ml_node.py          # æœºå™¨å­¦ä¹ è®¡ç®—èŠ‚ç‚¹
â””â”€â”€ client_demo.py      # å®¢æˆ·ç«¯æ¼”ç¤º
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³• 1: å¿«é€Ÿæ¼”ç¤ºï¼ˆæ¨èï¼‰
```bash
cd examples/concurrent_streaming
python run_demo.py
```

### æ–¹æ³• 2: å®Œæ•´éƒ¨ç½²
å¦‚æœä½ æƒ³ä½“éªŒå®Œæ•´çš„åˆ†å¸ƒå¼æµå¼å¤„ç†ï¼š

#### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

#### 2. å¯åŠ¨VPSæœåŠ¡å™¨
```bash
python stream_server.py
```

#### 3. å¯åŠ¨æ•°æ®å¤„ç†èŠ‚ç‚¹ï¼ˆæ–°ç»ˆç«¯ï¼‰
```bash
python data_node.py
```

#### 4. å¯åŠ¨æœºå™¨å­¦ä¹ èŠ‚ç‚¹ï¼ˆæ–°ç»ˆç«¯ï¼‰
```bash
python ml_node.py
```

#### 5. è¿è¡Œå®¢æˆ·ç«¯æ¼”ç¤ºï¼ˆæ–°ç»ˆç«¯ï¼‰
```bash
python client_demo.py
```

## ğŸ“Š æ¼”ç¤ºæ•ˆæœ

è¿è¡Œæ¼”ç¤ºæ—¶ï¼Œä½ å°†çœ‹åˆ°ï¼š

```
ğŸ¯ EasyRemote Concurrent Streaming Demo
==================================================
ğŸ”— Testing node connections...
âœ… Data node connected: data-node
âœ… ML node connected: ml-node
ğŸ“Š Available models: mobilenet_v2, resnet50, efficientnet_b0

âš¡ Configuring streaming tasks...
ğŸ“Š Data stream: ['temperature', 'humidity', 'pressure'] @ 2 Hz
ğŸ¤– ML stream: mobilenet_v2 (24 images)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ Stream          â”ƒ Status      â”ƒ Progress   â”ƒ Latest Result    â”ƒ
â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ Data Processing â”‚ ğŸŸ¢ Active   â”‚ 15 samples â”‚ Temp: 25.2Â°C    â”‚
â”‚ ML Inference    â”‚ ğŸŸ¢ Active   â”‚ 3 batches  â”‚ Progress: 50.0%  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æµå¼ä»»åŠ¡è¯¦æƒ…

### æ•°æ®å¤„ç†æµ (`data_node.py`)
- **åŠŸèƒ½**: å®æ—¶å¤„ç†å¤šä¼ æ„Ÿå™¨æ•°æ®æµ
- **è¾“å…¥**: ä¼ æ„Ÿå™¨é…ç½®ï¼ˆç±»å‹ã€é‡‡æ ·ç‡ã€æŒç»­æ—¶é—´ï¼‰
- **è¾“å‡º**: 
  - å®æ—¶ä¼ æ„Ÿå™¨è¯»æ•°
  - ç»Ÿè®¡åˆ†æï¼ˆå‡å€¼ã€æ–¹å·®ã€è¶‹åŠ¿ï¼‰
  - å¼‚å¸¸æ£€æµ‹ç»“æœ
- **ç‰¹ç‚¹**: 
  - ä½å»¶è¿Ÿï¼ˆ< 10msï¼‰
  - é«˜ååé‡ï¼ˆ100+ samples/sï¼‰
  - æ»‘åŠ¨çª—å£åˆ†æ
  - å®æ—¶å¼‚å¸¸æ£€æµ‹

### æœºå™¨å­¦ä¹ æ¨ç†æµ (`ml_node.py`)
- **åŠŸèƒ½**: æ‰¹é‡å›¾åƒåˆ†ç±»æ¨ç†
- **è¾“å…¥**: æ¨¡å‹é…ç½®ï¼ˆæ¨¡å‹åç§°ã€æ‰¹æ¬¡å¤§å°ã€å›¾åƒæ•°é‡ï¼‰
- **è¾“å‡º**: 
  - åˆ†ç±»ç»“æœå’Œç½®ä¿¡åº¦
  - æ‰¹å¤„ç†æ€§èƒ½æŒ‡æ ‡
  - æ¨ç†è¿›åº¦è¿½è¸ª
- **ç‰¹ç‚¹**: 
  - æ”¯æŒå¤šç§æ¨¡å‹ï¼ˆMobileNet, ResNet, EfficientNetï¼‰
  - æ‰¹å¤„ç†ä¼˜åŒ–
  - GPUåŠ é€Ÿæ”¯æŒï¼ˆå¦‚å¯ç”¨ï¼‰
  - è¯¦ç»†æ€§èƒ½åˆ†æ

## ğŸ›ï¸ é…ç½®é€‰é¡¹

### æ•°æ®æµé…ç½®
```python
data_config = {
    'sensors': ['temperature', 'humidity', 'pressure'],
    'sample_rate': 10,  # é‡‡æ ·ç‡ (Hz)
    'duration': 60      # æŒç»­æ—¶é—´ (ç§’)
}
```

### MLæ¨ç†é…ç½®
```python
ml_config = {
    'model_name': 'mobilenet_v2',  # æ¨¡å‹é€‰æ‹©
    'batch_size': 8,               # æ‰¹æ¬¡å¤§å°
    'num_images': 100,             # å›¾åƒæ€»æ•°
    'delay': 0.1                   # æ‰¹æ¬¡é—´å»¶è¿Ÿ
}
```

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

æ¼”ç¤ºåŒ…å«å®æ—¶æ€§èƒ½ç›‘æ§ï¼š
- **ååé‡**: æ¯ç§’å¤„ç†çš„æ ·æœ¬/æ‰¹æ¬¡æ•°
- **å»¶è¿Ÿ**: å•æ¬¡å¤„ç†æ—¶é—´
- **è¿›åº¦**: ä»»åŠ¡å®Œæˆç™¾åˆ†æ¯”
- **èµ„æºä½¿ç”¨**: CPUã€å†…å­˜å ç”¨ï¼ˆå¦‚å¯ç”¨ï¼‰
- **é”™è¯¯ç‡**: å¤±è´¥ä»»åŠ¡ç»Ÿè®¡

## ğŸ› ï¸ æ‰©å±•å’Œå®šåˆ¶

### æ·»åŠ æ–°çš„ä¼ æ„Ÿå™¨ç±»å‹
åœ¨ `data_node.py` ä¸­çš„ `SensorDataProcessor` ç±»ä¸­æ·»åŠ ï¼š
```python
def generate_sensor_data(self, sensor_type: str) -> float:
    base_values = {
        'temperature': 25.0,
        'humidity': 60.0,
        'pressure': 1013.25,
        'your_sensor': 100.0  # æ·»åŠ æ–°ä¼ æ„Ÿå™¨
    }
    # ... å…¶ä½™ä»£ç 
```

### æ·»åŠ æ–°çš„MLæ¨¡å‹
åœ¨ `ml_node.py` ä¸­çš„ `MockImageClassifier` ç±»ä¸­æ·»åŠ ï¼š
```python
self.model_info = {
    'mobilenet_v2': {...},
    'your_model': {
        'classes': 1000,
        'input_size': (224, 224),
        'inference_time': 0.1
    }
}
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ImportError: No module named 'rich'**
   ```bash
   pip install rich numpy
   ```

2. **è¿æ¥å¤±è´¥**
   - æ£€æŸ¥VPSæœåŠ¡å™¨æ˜¯å¦å¯åŠ¨
   - ç¡®è®¤ç«¯å£8080æœªè¢«å ç”¨
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

3. **æµå¼ä»»åŠ¡æ— å“åº”**
   - æ£€æŸ¥è®¡ç®—èŠ‚ç‚¹æ˜¯å¦æ­£å¸¸è¿æ¥
   - æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è¾“å‡º
   - é‡å¯ç›¸å…³ç»„ä»¶

## ğŸ”— ç›¸å…³èµ„æº

- [EasyRemote å®˜æ–¹æ–‡æ¡£](https://github.com/Qingbolan/EasyRemote)
- [æµå¼å¤„ç†æœ€ä½³å®è·µ](../basic/)
- [æ€§èƒ½ä¼˜åŒ–æŒ‡å—](../../docs/performance.md) 